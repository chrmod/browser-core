<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Control Center Debug</title>
  </head>
  <body>
    <iframe id="control-center" src="./index.html"></iframe>
    <script>
      var MockedData = {
            "activeURL": "http://www.spiegel.de/politik/deutschland/",
            "friendlyURL": "www.spiegel.de/politik/deutschland/",
            "isSpecialUrl": false,
            "domain": "spiegel.de",
            "extraUrl": "/politik/deutschland",
            "module": {
                "core": {},
                "firefox-specific": {},
                "static": {},
                "notifications": {},
                "context-search": {},
                "autocomplete": {
                    "visible": true,
                    "state": [{
                        "name": "Google",
                        "alias": "#go",
                        "default": false,
                        "base_url": "https://www.google.com/search?q=&ie=utf-8&oe=utf-8&client=firefox-b",
                        "prefix": "#go",
                        "code": 3
                    }, {
                        "name": "Yahoo",
                        "alias": "#ya",
                        "default": false,
                        "base_url": "https://search.yahoo.com/yhs/search?p=&ei=UTF-8&hspart=mozilla&hsimp=yhs-001",
                        "prefix": "#ya",
                        "code": 4
                    }, {
                        "name": "Bing",
                        "alias": "#bi",
                        "default": false,
                        "base_url": "https://www.bing.com/search?q=&pc=MOZI&form=MOZSBR",
                        "prefix": "#bi",
                        "code": 5
                    }, {
                        "name": "DuckDuckGo",
                        "alias": "#du",
                        "default": false,
                        "base_url": "https://duckduckgo.com/?q=&t=ffsb",
                        "prefix": "#du",
                        "code": 0
                    }, {
                        "name": "Start Page",
                        "alias": "#st",
                        "default": false,
                        "base_url": "https://www.startpage.com",
                        "prefix": "#st",
                        "code": 0
                    }, {
                        "name": "Amazon.com",
                        "alias": null,
                        "default": true,
                        "base_url": "https://www.amazon.com/exec/obidos/external-search/?field-keywords=&mode=blended&tag=mozilla-20&sourceid=Mozilla-search",
                        "prefix": "#am",
                        "code": 7
                    }, {
                        "name": "Twitter",
                        "alias": null,
                        "default": false,
                        "base_url": "https://twitter.com/search?q=&partner=Firefox&source=desktop-search",
                        "prefix": "#tw",
                        "code": 0
                    }, {
                        "name": "Wikipedia (en)",
                        "alias": null,
                        "default": false,
                        "base_url": "https://en.wikipedia.org/wiki/Special:Search?search=&sourceid=Mozilla-search",
                        "prefix": "#wi",
                        "code": 6
                    }]
                },
                "geolocation": {
                    "visible": true,
                    "state": {
                        "yes": {
                            "name": "Immer",
                            "selected": false
                        },
                        "ask": {
                            "name": "Immer fragen",
                            "selected": true
                        },
                        "no": {
                            "name": "Niemals",
                            "selected": false
                        }
                    }
                },
                "ui": {},
                "human-web": {
                    "visible": true,
                    "state": false
                },
                "anti-phishing": {
                    "visible": true,
                    "active": true
                },
                "context-menu": {},
                "freshtab": {
                    "visible": true,
                    "enabled": true
                },
                "unblock": {},
                "theme": {},
                "telemetry-categories": {},
                "antitracking": {
                    "visible": true,
                    "strict": false,
                    "hostname": "www.spiegel.de",
                    "cookiesCount": 10,
                    "requestsCount": 1,
                    "totalCount": 11,
                    "enabled": true,
                    "isWhitelisted": false,
                    "reload": false,
                    "trackersList": {
                        "tab": 39,
                        "hostname": "www.spiegel.de",
                        "path": "c8f87a713c78c5cb",
                        "cookies": {
                            "allowed": 0,
                            "blocked": 10
                        },
                        "requests": {
                            "safe": 10,
                            "unsafe": 1
                        },
                        "trackers": {
                            "script.ioam.de": {
                                "c": 1,
                                "cookie_set": 1,
                                "cookie_blocked": 1,
                                "bad_cookie_sent": 0,
                                "bad_qs": 0,
                                "set_cookie_blocked": 0,
                                "tokens_removed": 0
                            },
                            "qs.ioam.de": {
                                "c": 1,
                                "cookie_set": 1,
                                "cookie_blocked": 1,
                                "bad_cookie_sent": 0,
                                "bad_qs": 0,
                                "set_cookie_blocked": 0,
                                "tokens_removed": 0
                            },
                            "de.ioam.de": {
                                "c": 1,
                                "cookie_set": 2,
                                "cookie_blocked": 4,
                                "bad_cookie_sent": 0,
                                "bad_qs": 0,
                                "set_cookie_blocked": 2,
                                "tokens_removed": 0
                            },
                            "www.google-analytics.com": {
                                "c": 3,
                                "cookie_set": 0,
                                "cookie_blocked": 0,
                                "bad_cookie_sent": 0,
                                "bad_qs": 1,
                                "set_cookie_blocked": 0,
                                "tokens_removed": 1
                            },
                            "vrt.outbrain.com": {
                                "c": 1,
                                "cookie_set": 0,
                                "cookie_blocked": 0,
                                "bad_cookie_sent": 0,
                                "bad_qs": 0,
                                "set_cookie_blocked": 0,
                                "tokens_removed": 0
                            },
                            "vrp.outbrain.com": {
                                "c": 1,
                                "cookie_set": 0,
                                "cookie_blocked": 0,
                                "bad_cookie_sent": 0,
                                "bad_qs": 0,
                                "set_cookie_blocked": 0,
                                "tokens_removed": 0
                            },
                            "dc43.s290.meetrics.net": {
                                "c": 3,
                                "cookie_set": 3,
                                "cookie_blocked": 4,
                                "bad_cookie_sent": 0,
                                "bad_qs": 0,
                                "set_cookie_blocked": 1,
                                "tokens_removed": 0
                            }
                        },
                        "companies": {
                            "INFOnline GmbH": ["script.ioam.de", "qs.ioam.de", "de.ioam.de"],
                            "Google Analytics": ["www.google-analytics.com"],
                            "Outbrain": ["vrt.outbrain.com", "vrp.outbrain.com"],
                            "Meetrics": ["dc43.s290.meetrics.net"]
                        },
                        "ps": null,
                        "companiesArray": [{
                            "name": "INFOnline GmbH",
                            "watchDogName": "INFOnline-GmbH",
                            "domains": [{
                                "domain": "de.ioam.de",
                                "count": 4
                            }, {
                                "domain": "script.ioam.de",
                                "count": 1
                            }, {
                                "domain": "qs.ioam.de",
                                "count": 1
                            }],
                            "count": 6
                        }, {
                            "name": "Meetrics",
                            "watchDogName": "Meetrics",
                            "domains": [{
                                "domain": "dc43.s290.meetrics.net",
                                "count": 4
                            }],
                            "count": 4
                        }, {
                            "name": "Google Analytics",
                            "watchDogName": "Google-Analytics",
                            "domains": [{
                                "domain": "www.google-analytics.com",
                                "count": 1
                            }],
                            "count": 1
                        }, {
                            "name": "Outbrain",
                            "watchDogName": "Outbrain",
                            "domains": [{
                                "domain": "vrt.outbrain.com",
                                "count": 0
                            }, {
                                "domain": "vrp.outbrain.com",
                                "count": 0
                            }],
                            "count": 0
                        }]
                    },
                    "ps": null,
                    "state": "active"
                },
                "performance": {},
                "hpn": {
                    "visible": true,
                    "state": false
                },
                "control-center": {},
                "hm": {},
                "privacy-dashboard": {
                    "visible": true
                },
                "offers": {},
                "adblocker": {
                    "visible": true,
                    "enabled": true,
                    "optimized": false,
                    "disabledForUrl": false,
                    "disabledForDomain": false,
                    "disabledEverywhere": false,
                    "totalCount": 2,
                    "advertisersList": {
                        "companiesArray": [{
                            "name": "First Party",
                            "count": 1
                        }, {
                            "name": "Other",
                            "count": 1
                        }]
                    },
                    "state": "active",
                    "off_state": "off_website"
                },
                "message-center": {},
                "https-everywhere": {
                    "visible": true,
                    "active": true
                },
                "onboarding-v2": {},
                "telemetry": {},
                "new-tab-button": {},
                "moncomp": {
                    "visible": false,
                    "state": false
                },
                "type-filter": {},
                "adult": {
                    "visible": true,
                    "state": {
                        "conservative": {
                            "name": "Immer",
                            "selected": false
                        },
                        "moderate": {
                            "name": "Immer fragen",
                            "selected": true
                        },
                        "liberal": {
                            "name": "Niemals",
                            "selected": false
                        }
                    }
                },
                "apt": {
                    "visible": true,
                    "state": true
                }
            },
            "generalState": "active",
            "feedbackURL": "https://cliqz.com/feedback/1.2.99-40",
            "onboarding": false,
            "debug": true,
            "amo": false,
            "securityON": true
        };
      var iframe = document.getElementById("control-center");
      function resize(obj) {
        iframe.style.width = obj.width + "px";
        iframe.style.height = obj.height + "px";
      }

      iframe.contentWindow.addEventListener("message", function (ev) {
        var data = JSON.parse(ev.data);
        if(data.target == 'cliqz-control-center' &&
           data.origin == 'iframe'){
          if (data.message.action === "resize") {
            resize(data.message.data);
          }
          if (data.message.action === "getEmptyFrameAndData") {
            iframe.contentWindow.postMessage(JSON.stringify({
              target: "cliqz-control-center",
              origin: "window",
              message: {
                action: "pushData",
                data: MockedData
              },
            }), "*");
          }
        }
      });
    </script>
  </body>
</html>
